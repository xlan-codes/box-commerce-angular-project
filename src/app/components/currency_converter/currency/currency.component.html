<br />

<section>

    <form [formGroup]="form">

    <mat-form-field class="example-form-field">
        <mat-label>Amount</mat-label>
        <input matInput type="number" formControlName="value">
    </mat-form-field>

    <mat-form-field>
        <mat-label>From</mat-label>
        <mat-select formControlName="from">
            @for (currency of currencies; track currency) {
            <mat-option [value]="currency.id">{{currency.id}} - {{currency.name}}</mat-option>
            }
        </mat-select>
    </mat-form-field>

    <div class="switch-button">
        <button mat-fab aria-label="Switch currencies" (click)="switchCurrencies()">
            <mat-icon>cached</mat-icon>
        </button>
    </div>

    <mat-form-field>
        <mat-label>To</mat-label>
        <mat-select formControlName="to">
            @for (currency of currencies; track currency) {
            <mat-option [value]="currency.id">{{currency.id}} - {{currency.name}}</mat-option>
            }
        </mat-select>
    </mat-form-field>


    @if (showHistory) {
        <mat-form-field>
            <mat-label>Choose previews dates</mat-label>
            <input matInput [(ngModel)] = "historyDate" [matDatepicker]="picker">
            <mat-hint>MM/DD/YYYY</mat-hint>
            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
    }


    <div class="switch-button">
        <button mat-flat-button color="primary" aria-label="Convert" (click)="convert()">
            Convert
        </button>
    </div>
</form>
</section>
<section>
    <mat-checkbox class="example-margin"
    [checked]="showHistory"
    (change)="showHistory = !showHistory"
    >
    History value
</mat-checkbox>
</section>
<br />
<section>
    @if (converted) {
    <div class="result-currency">
        <div class="result-from">
            {{resultFrom}}
        </div>
        =
        <div class="result-to">
            {{resultTo}}
        </div>
        <div class="result-info">
            {{resultInfo}}
        </div>
    </div>
    }
</section>